/*

 Regula: An annotation-based form-validation framework in Javascript
 Version: 1.3.1

 Written By Vivin Paliath (http://vivin.net)
 License: BSD License
 Copyright (C) 2010-2013

 Other licenses:

 DOMUtils#getElementsByAttribute
 Author: Robert Nyman
 Copyright Robert Nyman, http://www.robertnyman.com
 Free to use if this text is included
*/
(function(b,c){"function"==typeof define&&define.amd?define("utils/MapUtils",c):("undefined"==typeof b.regulaModules&&(b.regulaModules={}),b.regulaModules.MapUtils=c())})(this,function(){return{iterateOverMap:function(b,c){var g=0,e;for(e in b)b.hasOwnProperty(e)&&"__size__"!==e&&(c.call(b,e,b[e],g),g++)},exists:function(b,c){for(var g=!1,e=0;!g&&e<b.length;)g=c==b[e],e++;return g},put:function(b,c,g){b.__size__||(b.__size__=0);b[c]||b.__size__++;b[c]=g},isEmpty:function(b){for(var c in b)if(b.hasOwnProperty(c))return!1;
return!0}}});
(function(b,c){"function"==typeof define&&define.amd?define("utils/DOMUtils",c):("undefined"==typeof b.regulaModules&&(b.regulaModules={}),b.regulaModules.DOMUtils=c())})(this,function(){return{friendlyInputNames:{form:"The form",select:"The select box",textarea:"The text area",checkbox:"The checkbox",radio:"The radio button",text:"The text field",password:"The password",email:"The email",url:"The URL",number:"The number",datetime:"The datetime","datetime-local":"The local datetime",date:"The date",
month:"The month",time:"The time",week:"The week",range:"The range",tel:"The telephone number",color:"The color"},getElementsByAttribute:function(b,c,g,e){for(var b="*"==c&&b.all?b.all:b.getElementsByTagName(c),c=[],h="undefined"!=typeof e?RegExp("(^|\\s)"+e+"(\\s|$)"):null,u,q,y=0;y<b.length;y++)u=b[y],q=u.getAttribute&&u.getAttribute(g),"string"==typeof q&&0<q.length&&("undefined"==typeof e||h&&h.test(q))&&c.push(u);return c},getAttributeValueForElement:function(b,c){var g=b.getAttribute&&b.getAttribute(c)||
null;if(!g)for(var e=b.attributes,h=0;h<e.length;h++)e[h].nodeName===c&&(g=e[h].nodeValue);return g},generateRandomId:function(){return"regula-generated-"+Math.floor(1E6*Math.random())},supportsHTML5Validation:function(){return"function"==typeof document.createElement("input").checkValidity}}});
(function(b,c){"function"==typeof define&&define.amd?define("service/GroupService",c):("undefined"==typeof b.regulaModules&&(b.regulaModules={}),b.regulaModules.GroupService=c())})(this,function(){return{Group:{Default:0},ReverseGroup:{"0":"Default"},deletedGroupIndices:[],firstCustomGroupIndex:1}});
(function(b,c){"function"==typeof define&&define.amd?define("utils/ArrayUtils",c):("undefined"==typeof b.regulaModules&&(b.regulaModules={}),b.regulaModules.ArrayUtils=c())})(this,function(){return{explode:function(b,c){for(var g="",e=0;e<b.length;e++)g+=b[e]+c;return g.replace(RegExp(c+"$"),"")}}});
(function(b,c){"function"==typeof define&&define.amd?define("service/ExceptionService",["utils/ArrayUtils"],c):("undefined"==typeof b.regulaModules&&(b.regulaModules={}),b.regulaModules.ExceptionService=c(b.regulaModules.ArrayUtils))})(this,function(b){var c={IllegalArgumentException:function(b){this.name="IllegalArgumentException";this.message=b},ConstraintDefinitionException:function(b){this.name="ConstraintDefinitionException";this.message=b},BindException:function(b){this.name="BindException";
this.message=b},MissingFeatureException:function(b){this.name="MissingFeatureException";this.message=b}},g;for(g in c)if(c.hasOwnProperty(g)){var e=c[g];e.prototype=Error();e.prototype.constructor=e}return{Exception:c,generateExceptionMessage:function(b,c,e){var g="";return null!=b?(g=b.id,""==c||null==c||void 0==c?g+=": ":g+="."+c+": "):""!=c&&null!=c&&void 0!=c&&(g="@"+c+": "),g+e},explodeParameters:function(c){var e="Function received: {",g;for(g in c)c.hasOwnProperty(g)&&("string"==typeof c[g]?
e+=g+": "+c[g]+", ":c[g]instanceof Array&&(e+=g+": ["+b.explode(c[g],", ")+"], "));return e=e.replace(/, $/,"")+"}",e}}});
(function(b,c){"function"==typeof define&&define.amd?define("service/ValidationService",["utils/DOMUtils","utils/MapUtils","service/GroupService","service/ExceptionService","utils/ArrayUtils"],c):("undefined"==typeof b.regulaModules&&(b.regulaModules={}),b.regulaModules.ValidationService=c(b.regulaModules.DOMUtils,b.regulaModules.MapUtils,b.regulaModules.GroupService,b.regulaModules.ExceptionService,b.regulaModules.ArrayUtils))})(this,function(b,c,g,e,h){function u(m,b){var a=b[m],c=m.replace(/(^[A-Z]+)/,
function(m){return m.toLowerCase()});a.async?F[c]=function(b,c,d){if("undefined"==typeof d)throw new e.Exception.IllegalArgumentException(m+" is an asynchronous constraint, but you have not provided a callback.");return a.validator.call(b,c,F,d)}:F[c]=function(m,b){return a.validator.call(m,b,F)}}function q(m,b){var a=G.validateEmptyFields;return"undefined"!=typeof b.ignoreEmpty&&(a=!b.ignoreEmpty),!H.blank.call(m)||!!a}function y(m){var b={YMD:{Year:0,Month:1,Day:2},MDY:{Month:0,Day:1,Year:2},DMY:{Day:0,
Month:1,Year:2}}[m.format],a=m.separator;"undefined"==typeof m.separator&&(a=/\//.test(this.value)?"/":/\./.test(this.value)?".":/ /.test(this.value)?" ":/[^0-9]+/);var c=this.value.split(a),d=new Date(c[b.Year],c[b.Month]-1,c[b.Day]),i=new Date;return"undefined"!=typeof m.date&&(c=m.date.split(a),i=new Date(c[b.Year],c[b.Month]-1,c[b.Day])),{dateToValidate:d,dateToTestAgainst:i}}function a(){return!this.validity.typeMismatch}function l(m){var b={asyncContexts:[],syncContexts:[]},a;for(a in z)if(z.hasOwnProperty(a)){var c=
z[a],d;for(d in c)if(c.hasOwnProperty(d))if(document.getElementById(d)){var i=c[d],e;for(e in i)if(i.hasOwnProperty(e)){var f=C(a,d,e);f.async?b.asyncContexts.push(f):b.syncContexts.push(f)}}else delete c[d]}return b=A(b),j(b,m)}function w(m){var b={asyncContexts:[],syncContexts:[]},a;for(a in z)if(z.hasOwnProperty(a)){var c=z[a],d;for(d in c)if(c.hasOwnProperty(d)&&c[d][m.constraintType]){var i=C(a,d,m.constraintType);i.async?b.asyncContexts.push(i):b.syncContexts.push(i)}}return b=A(b),j(b,m)}function D(m){var b=
[],a={asyncContexts:[],syncContexts:[]},c;for(c in z)if(z.hasOwnProperty(c))for(var d=z[c],i=0;i<m.elementIds.length;i++){var f=m.elementIds[i],g=d[f];if("undefined"!=typeof g)for(var n in g){if(g.hasOwnProperty(n)){var x=C(c,f,n);x.async?a.asyncContexts.push(x):a.syncContexts.push(x)}}else b.push(f)}if(0<b.length)throw new e.Exception.IllegalArgumentException("No constraints have been bound to the specified elements: "+h.explode(b)+". "+e.explodeParameters(m));return a=A(a),j(a,m)}function p(m){var b=
[],a={asyncContexts:[],syncContexts:[]},c;for(c in z)if(z.hasOwnProperty(c))for(var d=z[c],i=0;i<m.elementIds.length;i++){var f=m.elementIds[i];"undefined"!=typeof d[f]?(f=C(c,f,m.constraintType),f.async?a.asyncContexts.push(f):a.syncContexts.push(f)):b.push(f)}if(0<b.length)throw new e.Exception.IllegalArgumentException("No constraints have been bound to the specified elements: "+h.explode(b)+". "+e.explodeParameters(m));return a=A(a),j(a,m)}function n(m){for(var b=!1,a={groupedContexts:{}},c=0;c<
m.groups.length;){var d=m.groups[c],i=z[d];if("undefined"==typeof i)throw new e.Exception.IllegalArgumentException("Undefined group in group list. "+e.explodeParameters(m));for(var f in i)if(i.hasOwnProperty(f)){var h=i[f],g;for(g in h)if(h.hasOwnProperty(g)){var n=C(d,f,g);a.groupedContexts[d]||(a.groupedContexts[d]={asyncContexts:[],syncContexts:[]});n.async?(b=!0,a.groupedContexts[d].asyncContexts.push(n)):a.groupedContexts[d].syncContexts.push(n)}}c++}c=k(a);return m.groups=c.groups,a=c.uniqueConstraintsToValidate,
r(m,a,b)}function d(m){for(var b=!1,a={groupedContexts:{}},c=0;c<m.groups.length;){var d=m.groups[c],i=z[d];if("undefined"==typeof i)throw new e.Exception.IllegalArgumentException("Undefined group in group list. "+e.explodeParameters(m));var f=!1,h;for(h in i)if(i.hasOwnProperty(h)&&i[h][m.constraintType]){var f=!0,g=C(d,h,m.constraintType);a.groupedContexts[d]||(a.groupedContexts[d]={asyncContexts:[],syncContexts:[]});g.async?(b=!0,a.groupedContexts[d].asyncContexts.push(g)):a.groupedContexts[d].syncContexts.push(g)}if(!f)throw new e.Exception.IllegalArgumentException("Constraint "+
m.constraintType+" has not been bound to any element under group "+d+". "+e.explodeParameters(m));c++}c=k(a);return m.groups=c.groups,a=c.uniqueConstraintsToValidate,r(m,a,b)}function i(m){for(var a=[],b=[],c=!1,d={groupedContexts:{}},i=0;i<m.groups.length;){var f=m.groups[i],g=z[f];if(!g)throw new e.Exception.IllegalArgumentException("Undefined group in group list. "+e.explodeParameters(m));for(var n=0;n<m.elementIds.length;n++){var x=m.elementIds[n],s=g[x];if(s)for(var B in s){if(s.hasOwnProperty(B)){var t=
C(f,x,B);d.groupedContexts[f]||(d.groupedContexts[f]={asyncContexts:[],syncContexts:[]});t.async?(c=!0,d.groupedContexts[f].asyncContexts.push(t)):d.groupedContexts[f].syncContexts.push(t)}}else a.push(f),b.push(x)}i++}if(0<a.length)throw new e.Exception.IllegalArgumentException("The following elements: "+h.explode(b)+" were not found in one or more of the following group(s): ["+h.explode(a,",").replace(/,/g,", ")+"]. "+e.explodeParameters(m));a=k(d);return m.groups=a.groups,d=a.uniqueConstraintsToValidate,
r(m,d,c)}function s(m){for(var a=!1,b={groupedContexts:{}},c=0;c<m.groups.length;){for(var d=m.groups[c],i=0;i<m.elementIds.length;i++){var f=C(d,m.elementIds[i],m.constraintType);b.groupedContexts[d]||(b.groupedContexts[d]={asyncContexts:[],syncContexts:[]});f.async?(a=!0,b.groupedContexts[d].asyncContexts.push(f)):b.groupedContexts[d].syncContexts.push(f)}c++}c=k(b);return m.groups=c.groups,b=c.uniqueConstraintsToValidate,r(m,b,a)}function f(m){var a=!0;K[m.elementId]||(K[m.elementId]={});var b=
document.getElementById(m.elementId),c=b.name.replace(/\s/g,"");return"undefined"!=typeof b.type&&"radio"===b.type.toLowerCase()&&""!==c?I[c]||(I[c]={}):I[c]={},!K[m.elementId][m.elementConstraint]&&!I[c][m.elementConstraint]&&(a=!1,K[m.elementId][m.elementConstraint]=!0,"undefined"!=typeof b.type&&"radio"===b.type.toLowerCase()&&""!==c&&(I[c][m.elementConstraint]=!0)),a}function A(b){for(var a={asyncContexts:[],syncContexts:[]},c=0;c<b.syncContexts.length;c++){var d=b.syncContexts[c];f(d)||a.syncContexts.push(d)}for(c=
0;c<b.asyncContexts.length;c++)d=b.asyncContexts[c],f(d)||a.asyncContexts.push(d);return a}function k(b){var a=[],c={groupedContexts:{}},d;for(d in b.groupedContexts)if(b.groupedContexts.hasOwnProperty(d)){for(var i=0;i<b.groupedContexts[d].syncContexts.length;i++){var e=b.groupedContexts[d].syncContexts[i];f(e)||(c.groupedContexts[d]||(c.groupedContexts[d]={asyncContexts:[],syncContexts:[]}),c.groupedContexts[d].syncContexts.push(e),-1==a.indexOf(d)&&a.push(d))}for(i=0;i<b.groupedContexts[d].asyncContexts.length;i++)e=
b.groupedContexts[d].asyncContexts[i],f(e)||(c.groupedContexts[d]||(c.groupedContexts[d]={asyncContexts:[],syncContexts:[]}),c.groupedContexts[d].asyncContexts.push(e),-1==a.indexOf(d)&&a.push(d))}return{groups:a,uniqueConstraintsToValidate:c}}function j(b,a){var c=[];if(0<b.syncContexts.length){for(var d=[],i=0;i<b.syncContexts.length;){var f=b.syncContexts[i];(f=B(f.group,f.elementId,f.elementConstraint,f.params))&&d.push(f);i++}c=d}if(0<b.asyncContexts.length){if(!a.callback)throw new e.Exception.IllegalArgumentException("One or more constraints to be validated are asynchronous, but a callback has not been provided.");
for(var d=function(d){g++;d&&h.push(d);g===b.asyncContexts.length&&(d=h,0<c.length?c=c.concat(d):c=d,a.callback(c))},h=[],g=0,i=0;i<b.asyncContexts.length;i++)f=b.asyncContexts[i],x(f.group,f.elementId,f.elementConstraint,f.params,d)}return c}function r(b,c,a){for(var d,i=b.groups,f=b.independent,h=[],g=0,n=!0;g<i.length&&n;){for(var n=c.groupedContexts[i[g]].syncContexts,s=0;s<n.length;s++){var t=n[s];(t=B(t.group,t.elementId,t.elementConstraint,t.params))&&h.push(t)}g++;n=0==h.length||f&&0!=h.length}d=
h;if(a){if(!b.callback)throw new e.Exception.IllegalArgumentException("One or more constraints to be validated are asynchronous, but a callback has not been provided.");!b.independent&&0<d.length&&(a=d[0].group,i=c.groupedContexts[a],c.groupedContexts={},c.groupedContexts[a]=i);var k=b.groups,l=b.independent,j=[],A=!0;(function M(a){if(a<k.length&&A){for(var i=c.groupedContexts[k[a]].asyncContexts,f=0,h=0;h<i.length;h++){var e=i[h];x(e.group,e.elementId,e.elementConstraint,e.params,g)}var g=function(b){f++;
b&&j.push(b);f===i.length&&(A=0===j.length||l&&0!=j.length,M(++a))}}else 0<d.length?d=d.concat(j):d=j,b.callback(d)})(0)}return d}function C(b,c,a){var d=z[b];if(!d)throw new e.Exception.IllegalArgumentException("Undefined group in group list (group: "+b+", elementId: "+c+", constraint: "+a+")");d=d[c];if(!d)throw new e.Exception.IllegalArgumentException("No constraints have been defined for the element with id: "+c+" in group "+b);d=d[a];if(!d)throw new e.Exception.IllegalArgumentException("Constraint "+
a+" in group "+b+" hasn't been bound to the element with id "+c);return{group:b,elementId:c,elementConstraint:a,params:d,async:v[a].async}}function B(b,d,c,a){var i,f=E(b,d,c,a),e="";f.constraintPassed||(e=L(d,c,a),i={group:b,constraintName:c,formSpecific:v[c].formSpecific,custom:v[c].custom,compound:v[c].compound,async:v[c].async,composingConstraintViolations:f.composingConstraintViolations||[],constraintParameters:a,failingElements:f.failingElements,message:e});if(G.enableHTML5Validation)for(b=
0;b<f.failingElements.length;b++)f.failingElements[b].setCustomValidity("");return i}function x(b,c,d,a,i){var f;t(b,c,d,a,function(e){var h="";e.constraintPassed||(h=L(c,d,a),f={group:b,constraintName:d,formSpecific:v[d].formSpecific,custom:v[d].custom,compound:v[d].compound,async:v[d].async,composingConstraintViolations:e.composingConstraintViolations||[],constraintParameters:a,failingElements:e.failingElements,message:h});if(G.enableHTML5Validation)for(h=0;h<e.failingElements.length;h++)e.failingElements[h].setCustomValidity("");
i(f)})}function E(d,c,a,i){var f=!1,e=[],h=document.getElementById(c),c=[];v[a].formSpecific?(e=v[a].validator.call(h,i,F),f=0==e.length):v[a].compound?(c=v[a].validator.call(h,i,d,v[a],null),f=0==c.length,f||e.push(h)):(f=v[a].validator.call(h,i,F),f||e.push(h));d=h.name.replace(/\s/g,"");"undefined"!=typeof h.type&&"radio"===h.type.toLowerCase()&&""!==d&&(e=b.getElementsByAttribute(document.body,"input","name",d.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")));f={constraintName:a,constraintPassed:f,
failingElements:e};return v[a].reportAsSingleViolation||(f.composingConstraintViolations=c),f}function t(d,c,a,i,f){function e(d,c,i,f){var m=h.name.replace(/\s/g,"");"undefined"!=typeof h.type&&"radio"===h.type.toLowerCase()&&""!==m&&(i=b.getElementsByAttribute(document.body,"input","name",m));d={constraintName:a,constraintPassed:d,failingElements:i};v[a].reportAsSingleViolation||(d.composingConstraintViolations=c);f(d)}var h=document.getElementById(c);v[a].formSpecific?v[a].validator.call(h,i,F,
function(a){e(0===a.length,null,a,f)}):v[a].compound?v[a].validator.call(h,i,d,v[a],function(a){var d=[],b=0===a.length;b||d.push(h);e(b,a,d,f)}):v[a].validator.call(h,i,F,function(a){var d=[];a||d.push(h);e(a,null,d,f)})}function L(a,d,c){var a=document.getElementById(a),i="";c.message?i=c.message:c.msg?i=c.msg:i=v[d].defaultMessage;for(var f in c)if(c.hasOwnProperty(f))var h=RegExp("{"+f+"}","g"),i=i.replace(h,c[f]);if(v[d].compound&&"undefined"!=typeof v[d].composingConstraints)for(c=0;c<v[d].composingConstraints.length;c++){var e=
v[d].composingConstraints[c];for(f in e.params)e.params.hasOwnProperty(f)&&(h=RegExp("{"+f+"}","g"),i=i.replace(h,e.params[f]))}/{label}/.test(i)&&((d=b.friendlyInputNames[a.tagName.toLowerCase()])||(d=b.friendlyInputNames[a.type.toLowerCase()]),i=i.replace(/{label}/,d),i=i.replace(/{flags}/g,""));return i=i.replace(/\\\"/g,'"'),i}var G={},J={},v={},z={},K={},I={},F={},H={checked:function(){var a=!1;if("radio"===this.type.toLowerCase()&&""!==this.name.replace(/\s/g,""))for(var d=b.getElementsByAttribute(document.body,
"input","name",this.name.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")),c=0;c<d.length&&!a;)a=d[c].checked,c++;else a=this.checked;return a},selected:function(){return 0<this.selectedIndex},max:function(a){return q(this,a)&&(parseFloat(this.value),parseFloat(a.value)),!0},min:function(a){return q(this,a)&&(parseFloat(this.value),parseFloat(a.value)),!0},range:function(a){return q(this,a)&&""!=this.value.replace(/\s/g,"")&&parseFloat(this.value)<=parseFloat(a.max)&&(parseFloat(this.value),
parseFloat(a.min)),!0},notBlank:function(){return""!=this.value.replace(/\s/g,"")},blank:function(){return""===this.value.replace(/\s/g,"")},matches:function(a){var d=!0;if(q(this,a)){var c,b;"string"==typeof a.regex?b=a.regex.replace(/^\//,"").replace(/\/$/,""):b=a.regex;"undefined"!=typeof a.flags?c=RegExp(b.toString().replace(/^\//,"").replace(/\/[^\/]*$/,""),a.flags):c=RegExp(b);d=c.test(this.value)}return d},email:function(a){return q(this,a)&&/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i.test(this.value),
!0},alpha:function(a){return q(this,a)&&/^[A-Za-z]+$/.test(this.value),!0},numeric:function(a){return q(this,a)&&/^[0-9]+$/.test(this.value),!0},integer:function(a){return q(this,a)&&/^-?[0-9]+$/.test(this.value),!0},real:function(a){return q(this,a)&&/^-?([0-9]+(\.[0-9]+)?|\.[0-9]+)$/.test(this.value),!0},alphaNumeric:function(a){return q(this,a)&&/^[0-9A-Za-z]+$/.test(this.value),!0},completelyFilled:function(){for(var a=[],d=0;d<this.elements.length;d++){var c=this.elements[d];H.required.call(c)||
a.push(c)}return a},passwordsMatch:function(a){var d=[],c=document.getElementById(a.field1),a=document.getElementById(a.field2);return c.value!=a.value&&(d=[c,a]),d},required:function(){return this.tagName&&("select"===this.tagName.toLowerCase()?H.selected.call(this):"checkbox"===this.type.toLowerCase()||"radio"===this.type.toLowerCase()?H.checked.call(this):("input"===this.tagName.toLowerCase()||"textarea"===this.tagName.toLowerCase())&&"button"!=this.type.toLowerCase()&&H.notBlank.call(this)),!0},
length:function(a){return q(this,a),!0},digits:function(a){var d=!0;if(q(this,a)){var c=this.value.replace(/\s/g,""),b=c.split(/\./),d=!1;0<c.length&&(1==b.length&&(b[1]=""),0<a.integer?d=b[0].length<=a.integer:d=!0,0<a.fraction&&(d=d&&b[1].length<=a.fraction))}return d},past:function(a){var d=!0;q(this,a)&&(a=y.call(this,a),d=a.dateToValidate<a.dateToTestAgainst);return d},future:function(a){var d=!0;q(this,a)&&(a=y.call(this,a),d=a.dateToValidate>a.dateToTestAgainst);return d},url:function(a){return q(this,
a)&&/^([a-z]([a-z]|\d|\+|-|\.)*):(\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?((\[(|(v[\da-f]{1,}\.(([a-z]|\d|-|\.|_|~)|[!\$&'\(\)\*\+,;=]|:)+))\])|((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=])*)(:\d*)?)(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*|(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)){0})(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(this.value),
!0},step:function(a){var d=!0;if(q(this,a))var d=parseFloat(this.value),c=parseFloat(a.max),b=parseFloat(a.min),a=parseFloat(a.value),d=d<=c&&d>=b&&0===d%a;return d},html5Required:function(){return!this.validity.valueMissing},html5Email:a,html5URL:a,html5Number:a,html5DateTime:a,html5DateTimeLocal:a,html5Date:a,html5Month:a,html5Time:a,html5Week:a,html5Range:a,html5Tel:a,html5Color:a,html5Pattern:function(){return!this.validity.patternMismatch},html5MaxLength:function(){return!this.validity.tooLong},
html5Min:function(){return!this.validity.rangeUnderflow},html5Max:function(){return!this.validity.rangeOverflow},html5Step:function(){return!this.validity.stepMismatch}};return{Validator:H,init:function(a){G=a.config;J=a.ReverseConstraint;v=a.constraintDefinitions;z=a.boundConstraints},wrapValidatorWithEmptyCheck:function(a){return function(d,c,b){return q(this,d)&&a.call(this,d,c,b),!0}},initializePublicValidators:function(a){for(var d in a)a.hasOwnProperty(d)&&u(d,a)},compoundValidator:function(a,
d,b,i){function f(d,b){var i={},h;for(h in d)d.hasOwnProperty(h)&&"__size__"!=h&&c.put(i,h,d[h]);if(0<b.length)for(h in a)a.hasOwnProperty(h)&&"__size__"!=h&&c.put(i,h,a[h]);return i}function h(a,d,c,i){var f=J[k.constraintType],d=L(d,f,i),c={group:c,constraintName:a.constraintName,custom:v[f].custom,compound:v[f].compound,async:v[f].async,constraintParameters:k.params,failingElements:a.failingElements,message:d};return b.reportAsSingleViolation||(c.composingConstraintViolations=a.composingConstraintViolations||
[]),c}for(var e=[],g=[],n=0;n<b.composingConstraints.length;n++){var x=b.composingConstraints[n];v[J[x.constraintType]].async?g.push(x):e.push(x)}var s=null,B=this;if(q(this,a)){if(0<e.length){s=[];for(n=0;n<e.length;n++){var k=e[n],x=J[k.constraintType],l=f(k.params,b.params),x=E(d,B.id,x,l);if(!x.constraintPassed){var j=h(x,B.id,d,l);if(G.enableHTML5Validation)for(var A=0;A<x.failingElements.length;A++)x.failingElements[A].setCustomValidity(j.message);s.push(j)}}}if(0<g.length){null===s&&(s=[]);
for(var r=0,n=0;n<g.length;n++)k=g[n],x=J[k.constraintType],l=f(k.params,b.params),t(d,B.id,x,l,p);var p=function(a){if(!a.constraintPassed){var c=h(a,B.id,d,l);if(G.enableHTML5Validation)for(var b=0;b<a.failingElements.length;b++)a.failingElements[b].setCustomValidity(c.message);s.push(c)}r++;r===g.length&&i(s)}}}else s=[];return s},validate:function(a){K={};I={};var c={"000":l,"001":w,"010":D,"011":p,100:n,101:d,110:i,111:s};if(!a||"undefined"==typeof a)a={};"undefined"==typeof a.independent&&(a.independent=
!0);"undefined"!=typeof a.constraintType&&(a.constraintType=J[a.constraintType]);if("undefined"!=typeof a.groups){var b=a.groups;a.groups=[];for(var f=0;f<b.length;f++)a.groups.push(g.ReverseGroup[b[f]])}if("undefined"!=typeof a.elements){a.elementIds=[];for(f=0;f<a.elements.length;f++)a.elementIds.push(a.elements[f].id)}else"undefined"!=typeof a.elementId&&(a.elementIds=[a.elementId]);return c[function(a){var d=a.elementIds||null,c=("undefined"==typeof a.constraintType?null:a.constraintType)||null,
b="";return b+=null==(a.groups||null)?"0":"1",b+=null==d?"0":"1",b+=null==c?"0":"1",b}(a)](a)},runValidatorFor:E,interpolateConstraintDefaultMessage:L,createPublicValidator:u}});
(function(b,c){"function"==typeof define&&define.amd?define("domain/CompositionGraph",c):("undefined"==typeof b.regulaModules&&(b.regulaModules={}),b.regulaModules.CompositionGraph=c())})(this,function(){var b={},c={visited:!1,name:"RootNode",type:-1,parents:[],children:[]};return{ROOT:-1,addNode:function(g){var e=g.type,h=g.name,g=g.parent,h="undefined"==typeof b[e]?{visited:!1,name:h,type:e,parents:[],children:[]}:b[e];null==g?c.children.push(h):(g.children.push(h),h.parents.push(g));b[e]=h},getNodeByType:function(c){c=
b[c];return"undefined"==typeof c?null:c},analyze:function(b){b=function h(c,b){var g={cycle:!1,path:b};if(c.visited)g.cycle=!0;else{c.visited=!0;for(var a=0;a<c.children.length&&!g.cycle;)g=h(c.children[a],b+"."+c.children[a].name),a++}return g}(b,b.name);b.cycle||function u(c){c.visited=!1;for(var b=0;b<c.children.length;b++)u(c.children[b])}(c);return b},getRoot:function(){return c},setRoot:function(b){c=b},clone:function(){var b={},e=function u(c,e){var a="undefined"==typeof b[c.type]?{visited:c.visited,
name:c.name,type:c.type,parents:[],children:[]}:b[c.type];null!==e&&a.parents.push(e);for(var l=0;l<c.children.length;l++)a.children.push(u(c.children[l],a));return b[c.type]=a,a}(c,null);return{typeToNodeMap:b,root:e}},initializeFromClone:function(g){b=g.typeToNodeMap;c=g.root}}});
(function(b,c){"function"==typeof define&&define.amd?define("service/ConstraintService",["service/ValidationService","domain/CompositionGraph","service/ExceptionService","utils/MapUtils","utils/ArrayUtils"],c):("undefined"==typeof b.regulaModules&&(b.regulaModules={}),b.regulaModules.ConstraintService=c(b.regulaModules.ValidationService,b.regulaModules.CompositionGraph,b.regulaModules.ExceptionService,b.regulaModules.MapUtils,b.regulaModules.ArrayUtils))})(this,function(b,c,g,e,h){function u(a,c,
b){var f={error:!1,message:""};b.__size__<c.params.length&&(f={error:!0,message:g.generateExceptionMessage(a,l[c.constraintType],"@"+l[c.constraintType]+" expects at least "+c.params.length+" parameter(s). However, you have provided only "+b.__size__),data:null});for(var e=[],n=0;n<c.params.length;n++){var j=c.params[n];"undefined"==typeof b[j]&&e.push(j)}return 0<e.length&&(f={error:!0,message:g.generateExceptionMessage(a,l[c.constraintType],"You seem to have provided some optional or required parameters for @"+
l[c.constraintType]+", but you are still missing the following "+e.length+" required parameter(s): "+h.explode(e,", ")),data:null}),f}function q(d,b){var h=c.getNodeByType(a[d]);null==h&&(c.addNode({type:a[d],name:d,parent:null}),h=c.getNodeByType(a[d]));for(var f=0;f<h.children.length;f++){for(var e=h.children[f],g=[],j=0;j<e.parents.length;j++)e.parents[j]!==h&&g.push(e.parents[j]);e.parents=g}h.children=[];for(f=0;f<b.length;f++)e=n[l[b[f].constraintType]],c.addNode({type:e.constraintType,name:l[e.constraintType],
parent:h})}function y(a,c,b){for(var f=0;f<c.length;f++){if("undefined"==typeof c[f].constraintType)throw new g.Exception.ConstraintDefinitionException("In compound constraint "+a+": A composing constraint has no constraint type specified.");var h=c[f],k=l[h.constraintType],j={__size__:0};h.params=h.params||{};for(var r in h.params)h.params.hasOwnProperty(r)&&e.put(j,r,h.params[r]);var p=0,B;for(B in h.params)h.params.hasOwnProperty(B)&&p++;h.params.__size__=p;for(h=0;h<b.length;h++)e.put(j,b[h],
null);k=u(null,n[k],j);if(k.error)throw new g.Exception.ConstraintDefinitionException("In compound constraint "+a+": "+k.message);}}for(var a={},l={},w=0,D="Checked Selected Max Min Range Between NotBlank NotEmpty Blank Empty Pattern Matches Email Alpha IsAlpha Numeric IsNumeric AlphaNumeric IsAlphaNumeric Integer Real CompletelyFilled PasswordsMatch Required Length Digits Past Future Step URL HTML5Required HTML5Email HTML5URL HTML5MaxLength HTML5Pattern HTML5Min HTML5Max HTML5Step".split(" "),p=
0;p<D.length;p++)a[D[p]]=p,l[p]=D[p];w=p;a.Between=a.Range;a.Matches=a.Pattern;a.Empty=a.Blank;a.NotEmpty=a.NotBlank;a.IsAlpha=a.Alpha;a.IsNumeric=a.Numeric;a.IsAlphaNumeric=a.AlphaNumeric;var n={Checked:{async:!1,html5:!1,formSpecific:!1,validator:b.Validator.checked,constraintType:a.Checked,custom:!1,compound:!1,params:[],defaultMessage:"{label} needs to be checked."},Selected:{async:!1,html5:!1,formSpecific:!1,validator:b.Validator.selected,constraintType:a.Selected,custom:!1,compound:!1,params:[],
defaultMessage:"{label} needs to be selected."},Max:{async:!1,html5:!1,formSpecific:!1,validator:b.Validator.max,constraintType:a.Max,custom:!1,compound:!1,params:["value"],defaultMessage:"{label} needs to be lesser than or equal to {value}."},Min:{async:!1,html5:!1,formSpecific:!1,validator:b.Validator.min,constraintType:a.Min,custom:!1,compound:!1,params:["value"],defaultMessage:"{label} needs to be greater than or equal to {value}."},Range:{async:!1,html5:!1,formSpecific:!1,validator:b.Validator.range,
constraintType:a.Range,custom:!1,compound:!1,params:["min","max"],defaultMessage:"{label} needs to be between {min} and {max}."},NotBlank:{async:!1,html5:!1,formSpecific:!1,validator:b.Validator.notBlank,constraintType:a.NotBlank,custom:!1,compound:!1,params:[],defaultMessage:"{label} cannot be blank."},Blank:{async:!1,html5:!1,formSpecific:!1,validator:b.Validator.blank,constraintType:a.Blank,custom:!1,compound:!1,params:[],defaultMessage:"{label} needs to be blank."},Pattern:{async:!1,html5:!1,
formSpecific:!1,validator:b.Validator.matches,constraintType:a.Pattern,custom:!1,compound:!1,params:["regex"],defaultMessage:"{label} needs to match {regex}{flags}."},Email:{async:!1,html5:!1,formSpecific:!1,validator:b.Validator.email,constraintType:a.Email,custom:!1,compound:!1,params:[],defaultMessage:"{label} is not a valid email."},Alpha:{async:!1,html5:!1,formSpecific:!1,validator:b.Validator.alpha,constraintType:a.Alpha,custom:!1,compound:!1,params:[],defaultMessage:"{label} can only contain letters."},
Numeric:{async:!1,html5:!1,formSpecific:!1,validator:b.Validator.numeric,constraintType:a.Numeric,custom:!1,compound:!1,params:[],defaultMessage:"{label} can only contain numbers."},AlphaNumeric:{async:!1,html5:!1,formSpecific:!1,validator:b.Validator.alphaNumeric,constraintType:a.AlphaNumeric,custom:!1,compound:!1,params:[],defaultMessage:"{label} can only contain numbers and letters."},Integer:{async:!1,html5:!1,formSpecific:!1,validator:b.Validator.integer,constraintType:a.Integer,custom:!1,compound:!1,
params:[],defaultMessage:"{label} must be an integer."},Real:{async:!1,html5:!1,formSpecific:!1,validator:b.Validator.real,constraintType:a.Real,custom:!1,compound:!1,params:[],defaultMessage:"{label} must be a real number."},CompletelyFilled:{async:!1,html5:!1,formSpecific:!0,validator:b.Validator.completelyFilled,constraintType:a.CompletelyFilled,custom:!1,compound:!1,params:[],defaultMessage:"{label} must be completely filled."},PasswordsMatch:{async:!1,html5:!1,formSpecific:!0,validator:b.Validator.passwordsMatch,
constraintType:a.PasswordsMatch,custom:!1,compound:!1,params:["field1","field2"],defaultMessage:"Passwords do not match."},Required:{async:!1,html5:!1,formSpecific:!1,validator:b.Validator.required,constraintType:a.Required,custom:!1,compound:!1,params:[],defaultMessage:"{label} is required."},Length:{async:!1,html5:!1,formSpecific:!1,validator:b.Validator.length,constraintType:a.Length,custom:!1,compound:!1,params:["min","max"],defaultMessage:"{label} length must be between {min} and {max}."},Digits:{async:!1,
html5:!1,formSpecific:!1,validator:b.Validator.digits,constraintType:a.Digits,custom:!1,compound:!1,params:["integer","fraction"],defaultMessage:"{label} must have up to {integer} digits and {fraction} fractional digits."},Past:{async:!1,html5:!1,formSpecific:!1,validator:b.Validator.past,constraintType:a.Past,custom:!1,compound:!1,params:["format"],defaultMessage:"{label} must be in the past."},Future:{async:!1,html5:!1,formSpecific:!1,validator:b.Validator.future,constraintType:a.Future,custom:!1,
compound:!1,params:["format"],defaultMessage:"{label} must be in the future."},Step:{async:!1,html5:!1,formSpecific:!1,validator:b.Validator.step,constraintType:a.Step,custom:!1,compound:!1,params:["min","max","value"],defaultMessage:"{label} must be equal to {min} or greater, and equal to {max} or lesser, at increments of {value}."},URL:{async:!1,html5:!1,formSpecific:!1,validator:b.Validator.url,constraintType:a.URL,custom:!1,compound:!1,params:[],defaultMessage:"{label} must be a valid URL."},
HTML5Required:{async:!1,html5:!0,inputType:null,attribute:"required",formSpecific:!1,validator:b.Validator.html5Required,constraintType:a.HTML5Required,custom:!1,compound:!1,params:[],defaultMessage:"{label} is required."},HTML5Email:{async:!1,html5:!0,inputType:"email",attribute:null,formSpecific:!1,validator:b.Validator.html5Email,constraintType:a.HTML5Email,custom:!1,compound:!1,params:[],defaultMessage:"{label} is not a valid email."},HTML5Pattern:{async:!1,html5:!0,inputType:null,attribute:"pattern",
formSpecific:!1,validator:b.Validator.html5Pattern,constraintType:a.HTML5Pattern,custom:!1,compound:!1,params:["pattern"],defaultMessage:"{label} needs to match {pattern}."},HTML5URL:{async:!1,html5:!0,inputType:"url",attribute:null,formSpecific:!1,validator:b.Validator.html5URL,constraintType:a.HTML5URL,custom:!1,compound:!1,params:[],defaultMessage:"{label} is not a valid URL."},HTML5MaxLength:{async:!1,html5:!0,inputType:null,attribute:"maxlength",formSpecific:!1,validator:b.Validator.html5MaxLength,
constraintType:a.HTML5MaxLength,custom:!1,compound:!1,params:["maxlength"],defaultMessage:"{label} must be less than {maxlength} characters."},HTML5Min:{async:!1,html5:!0,inputType:null,attribute:"min",formSpecific:!1,validator:b.Validator.html5Min,constraintType:a.HTML5Min,custom:!1,compound:!1,params:["min"],defaultMessage:"{label} needs to be greater than or equal to {min}."},HTML5Max:{async:!1,html5:!0,inputType:null,attribute:"max",formSpecific:!1,validator:b.Validator.html5Max,constraintType:a.HTML5Max,
custom:!1,compound:!1,params:["max"],defaultMessage:"{label} needs to be lesser than or equal to {max}."},HTML5Step:{async:!1,html5:!0,inputType:null,attribute:"step",formSpecific:!1,validator:b.Validator.html5Step,constraintType:a.HTML5Step,custom:!1,compound:!1,params:["step"],defaultMessage:"{label} must be equal to the minimum value or greater at increments of {step}."}};return{Constraint:a,ReverseConstraint:l,firstCustomConstraintIndex:w,constraintDefinitions:n,override:function(d){var i="undefined"==
typeof d.async?n[d.name].async:d.async,h=d.validator;d.validatorRedefined&&!d.formSpecific&&(h=b.wrapValidatorWithEmptyCheck(h));var f=c.getNodeByType(d.constraintType);if(d.compound){y(d.name,d.composingConstraints,d.params);var e=c.clone();q(d.name,d.composingConstraints);var k=c.analyze(f);if(k.cycle)throw c.initializeFromClone(e),new g.Exception.ConstraintDefinitionException("regula.override: The overriding composing-constraints you have specified have created a cyclic composition: "+k.path);
i=!1;for(e=0;e<d.composingConstraints.length&&!i;)i=n[l[d.composingConstraints[e].constraintType]].async,e++}null!==f&&function r(a){for(var b=0;b<a.parents.length;b++){var d=a.parents[b];d.type!==c.ROOT&&(n[l[d.type]].async=i,r(d))}}(f);n[d.name]={async:i,formSpecific:d.formSpecific,constraintType:a[d.name],custom:!0,compound:d.compound,params:d.params,composingConstraints:d.composingConstraints,defaultMessage:d.defaultMessage,validator:h};n[d.name].custom&&d.validatorRedefined&&b.createPublicValidator(d.name,
n)},custom:function(c){a[c.name]=w;l[w++]=c.name;var i=c.validator;c.formSpecific||(i=b.wrapValidatorWithEmptyCheck(c.validator));n[c.name]={async:c.async,formSpecific:c.formSpecific,validator:i,constraintType:a[c.name],custom:!0,compound:!1,params:c.params,defaultMessage:c.defaultMessage};b.createPublicValidator(c.name,n)},compound:function(c){y(c.name,c.constraints,c.params);for(var i=!1,h=0;h<c.constraints.length&&!i;){var f=l[c.constraints[h].constraintType],i=i||n[f].async;h++}a[c.name]=w;l[w++]=
c.name;n[c.name]={async:i,formSpecific:c.formSpecific,constraintType:a[c.name],custom:!0,compound:!0,params:c.params,reportAsSingleViolation:c.reportAsSingleViolation,composingConstraints:c.constraints,defaultMessage:c.defaultMessage,validator:b.compoundValidator};b.createPublicValidator(c.name,n);q(c.name,c.constraints)},verifyConstraintDefinition:function(a,c,b){var f={successful:!0,message:"",data:null};"form"==a.tagName.toLowerCase()&&!n[c].formSpecific?f={successful:!1,message:g.generateExceptionMessage(a,
c,"@"+c+" is not a form constraint, but you are trying to bind it to a form"),data:null}:"form"!=a.tagName.toLowerCase()&&n[c].formSpecific?f={successful:!1,message:g.generateExceptionMessage(a,c,"@"+c+" is a form constraint, but you are trying to bind it to a non-form element"),data:null}:("undefined"==typeof a.type||"checkbox"!=a.type.toLowerCase()&&"radio"!=a.type.toLowerCase())&&"Checked"==c?f={successful:!1,message:g.generateExceptionMessage(a,c,"@"+c+" is only applicable to checkboxes and radio buttons. You are trying to bind it to an input element that is neither a checkbox nor a radio button."),
data:null}:"select"!=a.tagName.toLowerCase()&&"Selected"==c?f={successful:!1,message:g.generateExceptionMessage(a,c,"@"+c+" is only applicable to select boxes. You are trying to bind it to an input element that is not a select box."),data:null}:(a=u(a,n[c],b),a.error?f={successful:!1,message:a.message,data:null}:f.data=b);return f},verifyParameterCountMatches:u}});
(function(b,c){"function"==typeof define&&define.amd?define("parser/Parser",["utils/MapUtils","service/ExceptionService","service/ConstraintService"],c):("undefined"==typeof b.regulaModules&&(b.regulaModules={}),b.regulaModules.Parser=c(b.regulaModules.MapUtils,b.regulaModules.ExceptionService,b.regulaModules.ConstraintService))})(this,function(b,c,g){function e(c){return c?c.replace(/^\s+/,"").replace(/\s+$/,""):""}return{parse:function(h,u){function q(a){var b={successful:!0,message:"",data:null};
if(!/[A-Za-z_]/.test(a)||"undefined"==typeof a||null==a)b={successful:!1,message:c.generateExceptionMessage(h,i,"Invalid starting character"),data:null};return b}function y(a){var b={successful:!0,message:"",data:null};return/[0-9A-Za-z_]/.test(a)||(b={successful:!1,message:c.generateExceptionMessage(h,i,"Invalid character in identifier. Can only include 0-9, A-Z, a-z, and _")+" "+b.message,data:null}),b}function a(a){var b,f=e(a.shift());0==f.length&&(f=a.shift());b={successful:!1,message:c.generateExceptionMessage(h,
i,"Invalid starting character for parameter name. Can only include A-Z, a-z, and _"),data:null};if("undefined"!=typeof f)if(b=q(f.charAt(0)),b.successful){for(var g=1;g<f.length&&b.successful;)b=y(f.charAt(g)),g++;b.successful&&(b.data=f)}else b={successful:!1,message:c.generateExceptionMessage(h,i,"Invalid starting character for parameter name. Can only include A-Z, a-z, and _")+" "+b.message,data:null};if(b.successful)if(f=b.data,g=a.shift(),"="==g){0==e(a[0]).length&&a.shift();g={successful:!0,
message:"",data:[]};if(")"==a[0])g={successful:!1,message:c.generateExceptionMessage(h,i,"Parameter value expected")+" "+g.message,data:null};else if(b=a.shift(),g={successful:!0,message:"",data:null},b=("-"==b?(g=l(a),g.successful&&(g.data=b+g.data)):(a.unshift(b),g={successful:!1,message:c.generateExceptionMessage(h,i,"Not a negative number"),data:null}),g),g=(b.successful||(b=l(a),b.successful||(b={successful:!1,message:c.generateExceptionMessage(h,i,"Parameter value is not a number")+" "+b.message,
data:null})),b),b=g.message,!g.successful){var g=a.shift(),k="",s={successful:!0,message:"",data:null};if('"'==g){for(var j=!1;0<a.length&&s.successful&&!j;)'"'==a[0]?(j=!0,a.shift()):(s=n(a),k+=s.data);j||(s={successful:!1,message:c.generateExceptionMessage(h,i,"Unterminated string literal"),data:null})}else a.unshift(g),s={successful:!1,message:c.generateExceptionMessage(h,i,"Invalid quoted string"),data:null};g=(s.successful=s.successful&&j,s.data=k,s);g.message=g.message+" "+b;b=g.message;if(!g.successful){j=
"";g=a.shift();k={successful:!0,message:"",data:null};if("/"==g){for(var j=g,r=!1;0<a.length&&k.successful&&!r;)"/"==a[0]?(j+=a.shift(),r=!0):(k=n(a),j+=k.data);r||(k={successful:!1,message:c.generateExceptionMessage(h,i,"Unterminated regex literal"),data:null})}else a.unshift(g),k={successful:!1,message:c.generateExceptionMessage(h,i,"Not a regular expression"),data:null};g=(k.successful=k.successful&&r,k.data=j,k);g.message=g.message+" "+b;b=g.message;if(!g.successful&&(j=a.shift(),r={successful:!0,
message:"",data:null},g=("true"==e(j)||"false"==e(j)?r={successful:!0,message:"",data:"true"===j}:(a.unshift(j),r={successful:!1,message:c.generateExceptionMessage(h,i,"Not a boolean"),data:null}),r),g.message=g.message+" "+b,b=g.message,!g.successful)){r=[];j=a.shift();g={successful:!0,message:"",data:null};if("["==j)if(0==e(a[0]).length&&a.shift(),"]"==a[0]?g={successful:!0,message:"",data:""}:g=d(a),g.successful){r.push(g.data);for(0==e(a[0]).length&&a.shift();0<a.length&&","==a[0]&&g.successful;)a.shift(),
g=d(a),r.push(g.data),0==e(a[0]).length&&a.shift();g.data=r;j=a.shift();0==e(j).length&&a.shift();"]"!=j&&(g={successful:!1,message:c.generateExceptionMessage(h,i,"Cannot find matching closing ] in group definition")+" "+g.message,data:null})}else g={successful:!1,message:c.generateExceptionMessage(h,i,"Invalid group definition")+" "+g.message,data:null};else a.unshift(j),g={successful:!1,message:c.generateExceptionMessage(h,i,"Not a valid group definition"),data:null};g.message=g.message+" "+b;b=
g.message;g.successful||(g={successful:!1,message:c.generateExceptionMessage(h,i,"Parameter value must be a number, quoted string, regular expression, or a boolean")+" "+b,data:null})}}}b=g;b.successful?b.data={name:f,value:b.data}:b={successful:!1,message:c.generateExceptionMessage(h,i,"Invalid parameter value")+" "+b.message,data:null}}else a.unshift(g),b={successful:!1,message:c.generateExceptionMessage(h,i,"'=' expected after parameter name "+b.message),data:null};else b={successful:!1,message:c.generateExceptionMessage(h,
i,"Invalid parameter name. You might have unmatched parentheses")+" "+b.message,data:null};return b}function l(a){var b=null;if("."!=a[0]){if(b=D(a),"."==a[0]){var d=b.data,b=w(a);b.successful&&(b.data=d+b.data)}}else b=w(a);return b.successful||(b={successful:!1,message:c.generateExceptionMessage(h,i,"Not a positive number")+" "+b.message,data:null}),b}function w(a){var b=a.shift(),a=D(a);return a.successful?a.data=b+a.data:a={successful:!1,message:c.generateExceptionMessage(h,i,"Not a valid fraction"),
data:null},a}function D(a){var b=e(a.shift()),d=p(b.charAt(0));if(d.successful){for(a=1;a<b.length&&d.successful;)d=p(b.charAt(a)),a++;d.successful&&(d.data=b)}else a.unshift(b),d={successful:!1,message:c.generateExceptionMessage(h,i,"Not a valid integer")+" "+d.message,data:[]};return d}function p(a){var b={successful:!0,message:"",data:null};return/[0-9]/.test(a)||(b={successful:!1,message:c.generateExceptionMessage(h,i,"Not a valid digit"),data:null}),b}function n(a){var b="",c=a.shift();return"\\"==
c&&(b=a.shift()),{successful:!0,message:"",data:c+b}}function d(a){var b={successful:!0,message:"",data:""},d=e(a.shift());0==d.length&&(d=a.shift());b=q(d.charAt(0));if(b.successful){for(a=1;a<d.length&&b.successful;)b=y(d.charAt(a)),a++;b.successful&&(b.data=d)}else b={successful:!1,message:c.generateExceptionMessage(h,i,"Invalid starting character for group name. Can only include A-Z, a-z, and _")+" "+b.message,data:null};return b}for(var i="",s=e(u.replace(/\s*\n\s*/g,"")),f='@()[]=,"\\/-\\.'.split(""),
A=[],k=0,j=0;j<s.length;j++)b.exists(f,s.charAt(j))&&(k=s.substring(k,j),0==k.length||A.push(k),A.push(s.charAt(j)),k=j+1);k<s.length&&(k=s.substring(k,s.length),0==k.length||A.push(k));f={successful:!0,message:"",data:null};for(s=[];0<A.length&&f.successful;){f=A;j={successful:!0,message:"",data:null};k=f.shift();0==e(k).length&&(k=f.shift());if("@"==k){var j={Between:"Range",Matches:"Pattern",Empty:"Blank",NotEmpty:"NotBlank",IsAlpha:"Alpha",IsNumeric:"Integer",IsAlphaNumeric:"AlphaNumeric"},k=
e(f.shift()),r=q(k.charAt(0));if(r.successful){for(var C=1;C<k.length&&r.successful;)r=y(k.charAt(C)),C++;r.successful&&(r.data=k)}else r={successful:!1,message:c.generateExceptionMessage(h,i,"Invalid starting character for constraint name. Can only include A-Z, a-z, and _")+" "+r.message,data:null};k=r;if(k.successful)if(i=k.data,i=j[i]?j[i]:i,g.constraintDefinitions[i]){j={successful:!0,message:"",data:{}};if("("==f[0])if(f.shift(),k={},")"==f[0])f.shift();else if(j=a(f),j.successful){b.put(k,j.data.name,
j.data.value);for(0==e(f[0]).length&&f.shift();0<f.length&&","==f[0]&&j.successful;)f.shift(),j=a(f),j.successful&&(b.put(k,j.data.name,j.data.value),0==e(f[0]).length&&f.shift());j.successful&&(r=f.shift(),0==e(r).length&&(r=f.shift()),")"!=r?j={successful:!1,message:c.generateExceptionMessage(h,i,"Cannot find matching closing ) in parameter list")+" "+j.message,data:null}:j.data=k)}else j={successful:!1,message:c.generateExceptionMessage(h,i,"Invalid parameter definition")+" "+j.message,data:null};
else void 0!==f[0]&&"@"!=f[0]&&(j={successful:!1,message:c.generateExceptionMessage(h,i,"Unexpected character '"+f[0]+"' after constraint definition")+" "+j.message,data:null});k=j;k.successful&&(k=g.verifyConstraintDefinition(h,i,k.data),k.successful&&(k.data={element:h,constraintName:i,definedParameters:k.data}))}else k={successful:!1,message:c.generateExceptionMessage(h,i,"I cannot find the specified constraint name. If this is a custom constraint, you need to define it before you bind to it")+
" "+k.message,data:null};else k={successful:!1,message:c.generateExceptionMessage(h,i,"Invalid constraint name in constraint definition")+" "+k.message,data:null};j=k}else j={successful:!1,message:c.generateExceptionMessage(h,i,"Invalid constraint. Constraint definitions need to start with '@'")+" "+j.message,data:null};f=j;s.push(f.data)}return f.data=s,f}}});
(function(b,c){"function"==typeof define&&define.amd?define("service/BindingService","utils/MapUtils service/GroupService utils/DOMUtils parser/Parser service/ConstraintService service/ExceptionService".split(" "),c):("undefined"==typeof b.regulaModules&&(b.regulaModules={}),b.regulaModules.BindingService=c(b.regulaModules.MapUtils,b.regulaModules.GroupService,b.regulaModules.DOMUtils,b.regulaModules.Parser,b.regulaModules.ConstraintService,b.regulaModules.ExceptionService))})(this,function(b,c,g,
e,h,u){function q(){p={Default:{}}}function y(a,d){if(b.isEmpty(p[d][a])&&(delete p[d][a],b.isEmpty(p[d]))){delete p[d];var i=c.Group[d];delete c.Group[d];delete c.ReverseGroup[i];c.deletedGroupIndices.push(i)}}function a(a){var b={successful:!0,message:"",data:null},c=null;return"undefined"!=typeof a.tagName&&(c=a.tagName.toLowerCase()),"form"!==c&&"select"!==c&&"textarea"!==c&&"input"!==c?b={successful:!1,message:c+"#"+a.id+" is not an input, select, textarea, or form element! Validation constraints can only be attached to input, select, textarea, or form elements.",
data:null}:"input"===c&&null===a.getAttribute("type")&&(b={successful:!1,message:c+"#"+a.id+" does not have a type attribute.",data:null}),b}function l(b){var c=b.element,i;null===c?i=g.getElementsByAttribute(document.body,"*","data-constraints"):i=[c];for(var h={successful:!0,message:"",data:null},b=0;b<i.length&&h.successful;)if(c=i[b],h=a(c),h.successful){c.id||(c.id=g.generateRandomId());var f=c.getAttribute("data-constraints");if(null!==f&&(h=e.parse(c,f),h.successful&&null!==h.data)){c=h.data;
for(f=0;h.successful&&f<c.length;)h=c[f],h=D(h.element,h.constraintName,h.definedParameters),f++}b++}return h}function w(a,d){function i(a,d,f){var i=p[c.ReverseGroup[c.Group.Default]][a.id][h.ReverseConstraint[d]].groups,e=[];f.groups?e=f.groups:e.push(c.ReverseGroup[c.Group.Default]);b.exists(e,c.ReverseGroup[c.Group.Default])||e.push(c.ReverseGroup[c.Group.Default]);for(var g=f=e,l={},e=[],n=0;n<i.length;n++)e.push(i[n]),l[i[n]]=!0;for(i=0;i<g.length;i++)l[g[i]]||e.push(g[i]);i=[];for(g=0;g<e.length;g++)b.exists(f,
e[g])||i.push(e[g]);for(f=0;f<i.length;f++)e=i[f],delete p[e][a.id][h.ReverseConstraint[d]],y(a.id,e)}var e={successful:!0,message:"",data:null},f=d.element,g=a.overwriteConstraint||!1,k=a.overwriteParameters||!1,j=a.constraintType,l=a.params||{},w={__size__:0},q=l.groups;if("undefined"==typeof j)e={successful:!1,message:"regula.bind expects a valid constraint type for each constraint in constraints attribute of the options argument. "+u.explodeParameters(d),data:null};else if(l&&l.groups)if(l.groups instanceof
Array){for(var x=[],E=0;E<l.groups.length&&e.successful;)"string"==typeof l.groups[E]?x.push(l.groups[E]):"undefined"!=typeof c.ReverseGroup[l.groups[E]]?x.push(c.ReverseGroup[l.groups[E]]):e={successful:!1,message:"Invalid group: "+l.groups[E]+". "+u.explodeParameters(d),data:null},E++;e.successful&&(l.groups=x)}else e={successful:!1,message:"The groups parameter must be an array of enums or strings "+u.explodeParameters(d),data:null};if(e.successful){if(!p[c.ReverseGroup[c.Group.Default]][f.id]||
!p[c.ReverseGroup[c.Group.Default]][f.id][h.ReverseConstraint[j]]){for(var t in l)l.hasOwnProperty(t)&&b.put(w,t,l[t]);e=h.verifyConstraintDefinition(f,h.ReverseConstraint[j],w)}else if(g){for(t in l)l.hasOwnProperty(t)&&b.put(w,t,l[t]);e=h.verifyConstraintDefinition(f,h.ReverseConstraint[j],w);e.successful&&i(f,j,l)}else{g=p[c.ReverseGroup[c.Group.Default]][f.id][h.ReverseConstraint[j]];for(t in g)g.hasOwnProperty(t)&&b.put(w,t,g[t]);if(k){for(t in l)l.hasOwnProperty(t)&&b.put(w,t,l[t]);e=h.verifyConstraintDefinition(f,
h.ReverseConstraint[j],w);e.successful&&i(f,j,w)}else for(t in l)l.hasOwnProperty(t)&&(g[t]||b.put(w,t,l[t]))}e.successful&&(e=D(f,h.ReverseConstraint[j],w))}return l.groups=q,e}function D(a,d,i){var e={successful:!0,message:"",data:null};i.groups||b.put(i,"groups",[c.ReverseGroup[c.Group.Default]]);var f=i.groups;-1===f.indexOf(c.ReverseGroup[c.Group.Default])&&(f.push(c.ReverseGroup[c.Group.Default]),i.groups=f);for(var g=0;g<f.length;g++){var l=f[g];if(!p[l]){var j=-1;0<c.deletedGroupIndices.length?
j=c.deletedGroupIndices.pop():j=c.firstCustomGroupIndex++;c.Group[l]=j;c.ReverseGroup[j]=l;p[l]={}}p[l][a.id]||(p[l][a.id]={});p[l][a.id][d]=i}if(h.constraintDefinitions[d].html5)if(null!==a.getAttribute("type")&&null!==h.constraintDefinitions[d].inputType&&a.getAttribute("type")!==h.constraintDefinitions[d].inputType)e={successful:!1,message:u.generateExceptionMessage(a,d,"Element type of "+a.getAttribute("type")+" conflicts with type of constraint @"+d+": "+h.constraintDefinitions[d].inputType),
data:null};else if(f=h.constraintDefinitions[d].attribute,g=h.constraintDefinitions[d].inputType,null!==f&&null===a.getAttribute(f)||null!==g&&null===a.getAttribute("type")){if(d===h.ReverseConstraint[h.Constraint.HTML5Required])a.setAttribute("required","true");else{d=h.constraintDefinitions[d];for(f=0;f<d.params.length;f++)a.setAttribute(d.params[f],i[d.params[f]])}i=a.getAttribute("class");/regula-modified/.test(i)||a.setAttribute("class",i+" regula-modified")}return e}var p=null;return{initializeBoundConstraints:function(){null===
p&&q()},resetBoundConstraints:q,getBoundConstraints:function(){return p},removeElementAndGroupFromBoundConstraintsIfEmpty:y,bindAfterParsing:l,bindHTML5ValidationConstraints:function(c){var d=c.element,i={successful:!0,message:"",data:null},c=[{attribute:"required",value:null,constraint:h.Constraint.HTML5Required},{attribute:"type",value:"email",constraint:h.Constraint.HTML5Email},{attribute:"type",value:"url",constraint:h.Constraint.HTML5URL},{attribute:"pattern",value:null,constraint:h.Constraint.HTML5Pattern},
{attribute:"maxlength",value:null,constraint:h.Constraint.HTML5MaxLength},{attribute:"min",value:null,constraint:h.Constraint.HTML5Min},{attribute:"max",value:null,constraint:h.Constraint.HTML5Max},{attribute:"step",value:null,constraint:h.Constraint.HTML5Step}],e={email:h.Constraint.HTML5Email,url:h.Constraint.HTML5URL},f={};if(null===d)for(var l=0;l<c.length;l++){var k=c[l],e=null;null==k.value?e=g.getElementsByAttribute(document.body,"*",k.attribute):e=g.getElementsByAttribute(document.body,"*",
k.attribute,k.value);for(var d=f,j=0;j<e.length;j++){var p=e[j];p.id||(p.id=g.generateRandomId());d[p.id]||(d[p.id]=[]);var w={constraint:k.constraint,params:{}};null===k.value&&(w.params[k.attribute]=g.getAttributeValueForElement(p,k.attribute));d[p.id].push(w)}}else if(d.id||(d.id=g.generateRandomId()),i=a(d),i.successful){f[d.id]=[];for(l=0;l<c.length;l++)k=c[l],null===k.value?null!=g.getAttributeValueForElement(d,k.attribute)&&(j={constraint:k.constraint,params:{}},j.params[k.attribute]=g.getAttributeValueForElement(d,
k.attribute),f[d.id].push(j)):(k=g.getAttributeValueForElement(d,k.attribute),null!=k&&"undefined"!=typeof e[k]&&f[d.id].push({constraint:e[k],params:{}}))}return b.iterateOverMap(f,function(a,b){for(var c=document.getElementById(a),d=0;d<b.length;d++){var f=b[d];i=D(c,h.ReverseConstraint[f.constraint],f.params)}}),i},bindFromOptions:function(a){var b={successful:!0,message:"",data:null},c=a.element,e=a.constraints||[],f=c&&c.tagName?c.tagName.toLowerCase():null;if(c)if(1!==c.nodeType)b={successful:!1,
message:"regula.bind: element attribute is expected to be an HTMLElement, but was of unexpected type: "+typeof c+". "+u.explodeParameters(a),data:null};else if("form"!=f&&"select"!=f&&"textarea"!=f&&"input"!=f)b={successful:!1,message:f+"#"+c.id+" is not an input, select, textarea, or form element! Validation constraints can only be attached to input, select, textarea, or form elements. "+u.explodeParameters(a),data:null};else if(0<e.length)for(c=0;c<e.length&&b.successful;)b=w(e[c],a),c++;else b=
l({element:c});else b={successful:!1,message:"regula.bind expects a non-null element attribute in the options argument. "+u.explodeParameters(a),data:null};return b},unbind:function(a){for(var b=0;b<a.elements.length;b++){var c=a.elements[b].id,e=a.constraints||[];if(0==e.length)for(var f in p){if(p.hasOwnProperty(f)){if("undefined"==typeof p[f][c])throw new u.Exception.IllegalArgumentException("Element with id "+c+" does not have any constraints bound to it. "+u.explodeParameters(a));delete p[f][c];
"Default"!==f&&y(c,f)}}else for(var g=0;g<e.length;g++){var l=e[g];for(f in p)if(p.hasOwnProperty(f)){if("undefined"==typeof p[f][c])throw new u.Exception.IllegalArgumentException("Element with id "+c+" does not have any constraints bound to it. "+u.explodeParameters(a));delete p[f][c][h.ReverseConstraint[l]];"Default"!==f&&y(c,f)}}}},isBound:function(a){var b=a.elementId,e=a.group,a=a.constraint,g="undefined"!=typeof p[c.ReverseGroup[c.Group.Default]][b];g&&"undefined"!=typeof e&&"undefined"==typeof a?
(e=c.ReverseGroup[e],g="undefined"!=typeof e&&"undefined"!=typeof p[e][b]):g&&"undefined"==typeof e&&"undefined"!=typeof a?(a=h.ReverseConstraint[a],g="undefined"!=typeof a&&"undefined"!=typeof p[c.ReverseGroup[c.Group.Default]][b][a]):g&&("undefined"!=typeof e&&"undefined"!=typeof a)&&(e=c.ReverseGroup[e],a=h.ReverseConstraint[a],g="undefined"!=typeof e&&"undefined"!=typeof a&&"undefined"!=typeof p[e][b]&&"undefined"!=typeof p[e][b][a]);return g}}});
(function(b,c){"function"==typeof define&&define.amd?define("regula","utils/MapUtils utils/DOMUtils service/BindingService service/ExceptionService service/ConstraintService service/ValidationService service/GroupService".split(" "),c):(b.regula=c(b.regulaModules.MapUtils,b.regulaModules.DOMUtils,b.regulaModules.BindingService,b.regulaModules.ExceptionService,b.regulaModules.ConstraintService,b.regulaModules.ValidationService,b.regulaModules.GroupService),b.regula._modules=b.regulaModules,b.regulaModules=
void 0)})(this,function(b,c,g,e,h,u,q){var y={validateEmptyFields:!0,enableHTML5Validation:!0,debug:!1};return g.initializeBoundConstraints(),u.initializePublicValidators(h.constraintDefinitions),{configure:function(a){b.iterateOverMap(a,function(a,b){"undefined"!=typeof y[a]&&(y[a]=b)})},bind:function(a){var b={successful:!0,message:"",data:null};if("undefined"==typeof a||!a)g.resetBoundConstraints(),y.enableHTML5Validation&&c.supportsHTML5Validation()&&(b=g.bindHTML5ValidationConstraints({element:null})),
b.successful&&(b=g.bindAfterParsing({element:null}));else{var h=a.elements;if("undefined"==typeof h||!h)y.enableHTML5Validation&&c.supportsHTML5Validation()&&"undefined"!=typeof a.element&&null!==a.element&&(b=g.bindHTML5ValidationConstraints({element:a.element})),b.successful&&(b=g.bindFromOptions(a));else for(var q=0;b.successful&&q<h.length;)a.element=h[q],y.enableHTML5Validation&&c.supportsHTML5Validation()&&(b=g.bindHTML5ValidationConstraints({element:a.element})),b.successful?(b=g.bindFromOptions(a),
b.successful||(b.message="regula.bind: Element "+(q+1)+" of "+h.length+" failed: "+b.message)):b.message="regula.bind: Failed binding HTML5 validation constraints: Element "+(q+1)+" of "+h.length+" failed: "+b.message,q++}if(!b.successful)throw new e.Exception.BindException(b.message);},unbind:function(a){if("undefined"==typeof a||!a)g.resetBoundConstraints();else{if("undefined"==typeof a.elementId&&"undefined"==typeof a.elements)throw new e.Exception.IllegalArgumentException("regula.unbind requires an elementId attribute, or an elements attribute if options are provided");
if(!("undefined"==typeof a.elements||a.elements instanceof Array))throw new e.Exception.IllegalArgumentException("regula.unbind expects the elements attribute to be an array, if it is provided");if("undefined"==typeof a.elements&&(a.elements=[document.getElementById(a.elementId)],null===a.elements[0]))throw new e.Exception.IllegalArgumentException("Element with id "+a.elementId+" does not have any constraints bound to it. "+e.explodeParameters(a));g.unbind(a)}},isBound:function(a){if("undefined"==
typeof a)throw new e.Exception.IllegalArgumentException("regula.isBound expects options");var b=a.element,c=a.elementId;if("undefined"==typeof b&&"undefined"==typeof c)throw new e.Exception.IllegalArgumentException("regula.isBound expects at the very least, either an element or elementId attribute");if(a.hasOwnProperty("constraint")&&"undefined"==typeof a.constraint)throw new e.Exception.IllegalArgumentException("Undefined constraint was supplied as a parameter");if(a.hasOwnProperty("group")&&"undefined"==
typeof a.group)throw new e.Exception.IllegalArgumentException("Undefined group was supplied as a parameter");return"undefined"!=typeof b&&(c=b.id),g.isBound({elementId:c,group:a.group,constraint:a.constraint})},validate:function(a,b){u.init({config:y,ReverseConstraint:h.ReverseConstraint,constraintDefinitions:h.constraintDefinitions,boundConstraints:g.getBoundConstraints()});var c=[];if("undefined"==typeof a||"undefined"==typeof a.groups||a.groups instanceof Array){if("undefined"!=typeof a&&"undefined"!=
typeof a.groups&&0==a.groups.length)throw new e.Exception.IllegalArgumentException("regula.validate: If a groups attribute is provided, it must not be empty.");if("undefined"!=typeof a&&a.hasOwnProperty("constraintType")&&"undefined"==typeof a.constraintType)throw new e.Exception.IllegalArgumentException("regula.validate: If a constraintType attribute is provided, it cannot be undefined.");"undefined"==typeof b&&"function"==typeof a&&(a={callback:a});"undefined"!=typeof b&&(a.callback=b);if("undefined"!=
typeof a&&"undefined"!=typeof a.elements){if(!(a.elements instanceof Array))throw new e.Exception.IllegalArgumentException("regula.validate: If an elements attribute is provided, it must be an array.");if(0==a.elements.length)throw new e.Exception.IllegalArgumentException("regula.validate: If an elements attribute is provided, it must not be empty.");}return c=u.validate(a)}throw new e.Exception.IllegalArgumentException("regula.validate: If a groups attribute is provided, it must be an array.");},
custom:function(a){if(!a)throw new e.Exception.IllegalArgumentException("regula.custom expects options");var b=a.name,c=a.formSpecific||!1,g=a.validator,p=a.params||[],n=a.defaultMessage||"",a="undefined"==typeof a.async?!1:a.async;if(!b)throw new e.Exception.IllegalArgumentException("regula.custom expects a name attribute in the options argument");if("string"!=typeof b)throw new e.Exception.IllegalArgumentException("regula.custom expects the name attribute in the options argument to be a string");
if(0==b.replace(/\s/g,"").length)throw new e.Exception.IllegalArgumentException("regula.custom cannot accept an empty string for the name attribute in the options argument");if("boolean"!=typeof c)throw new e.Exception.IllegalArgumentException("regula.custom expects the formSpecific attribute in the options argument to be a boolean");if(!g)throw new e.Exception.IllegalArgumentException("regula.custom expects a validator attribute in the options argument");if("function"!=typeof g)throw new e.Exception.IllegalArgumentException("regula.custom expects the validator attribute in the options argument to be a function");
if(0>p.constructor.toString().indexOf("Array"))throw new e.Exception.IllegalArgumentException("regula.custom expects the params attribute in the options argument to be an array");if("string"!=typeof n)throw new e.Exception.IllegalArgumentException("regula.custom expects the defaultMessage attribute in the options argument to be a string");if(h.constraintDefinitions[b])throw new e.Exception.IllegalArgumentException("There is already a constraint called "+b+". If you wish to override this constraint, use regula.override");
h.custom({async:a,name:b,formSpecific:c,validator:g,custom:!0,compound:!1,params:p,defaultMessage:n})},compound:function(a){if(!a)throw new e.Exception.IllegalArgumentException("regula.compound expects options");var b=a.name,c=a.constraints||[],g=a.formSpecific||!1,p=a.defaultMessage||"",n=a.params||[],a="undefined"==typeof a.reportAsSingleViolation?!1:a.reportAsSingleViolation;if(!b)throw new e.Exception.IllegalArgumentException("regula.compound expects a name attribute in the options argument");
if("string"!=typeof b)throw new e.Exception.IllegalArgumentException("regula.compound expects name to be a string parameter");if(0>n.constructor.toString().indexOf("Array"))throw new e.Exception.IllegalArgumentException("regula.compound expects the params attribute in the options argument to be an array");if(0==c.length)throw new e.Exception.IllegalArgumentException("regula.compound expects an array of composing constraints under a constraints attribute in the options argument");if(h.constraintDefinitions[b])throw new e.Exception.IllegalArgumentException("regula.compound: There is already a constraint called "+
b+". If you wish to override this constraint, use regula.override");h.compound({name:b,formSpecific:g,params:n,reportAsSingleViolation:a,constraints:c,defaultMessage:p})},override:function(a){if(!a)throw new e.Exception.IllegalArgumentException("regula.override expects options");if("undefined"==typeof a.constraintType)throw new e.Exception.IllegalArgumentException("regula.override expects a valid constraintType attribute in the options argument");var b=h.ReverseConstraint[a.constraintType];if("undefined"==
typeof b)throw new e.Exception.IllegalArgumentException("regula.override: I could not find the specified constraint. Perhaps it has not been defined? Function received: "+e.explodeParameters(a));var c=!1,g=h.constraintDefinitions[b].formSpecific;h.constraintDefinitions[b].custom&&(g="undefined"==typeof a.formSpecific?h.constraintDefinitions[b].formSpecific:a.formSpecific);var p=h.constraintDefinitions[b].custom&&"undefined"!=typeof a.async?a.async:h.constraintDefinitions[b].async,n=h.constraintDefinitions[b].custom?
a.params||h.constraintDefinitions[b].params:h.constraintDefinitions[b].params,d=a.defaultMessage||h.constraintDefinitions[b].defaultMessage,i=h.constraintDefinitions[b].compound,q=a.constraints||h.constraintDefinitions[b].constraints,f=h.constraintDefinitions[b].validator;h.constraintDefinitions[b].custom&&!h.constraintDefinitions[b].compound&&"undefined"!=typeof a.validator&&(f=a.validator,c=!0);if("boolean"!=typeof g)throw new e.Exception.IllegalArgumentException("regula.override expects the formSpecific attribute in the options argument to be a boolean");
if("function"!=typeof f)throw new e.Exception.IllegalArgumentException("regula.override expects the validator attribute in the options argument to be a function");if(!(n instanceof Array))throw new e.Exception.IllegalArgumentException("regula.override expects the params attribute in the options argument to be an array");if("string"!=typeof d)throw new e.Exception.IllegalArgumentException("regula.override expects the defaultMessage attribute in the options argument to be a string");h.override({async:p,
formSpecific:g,name:b,constraintType:a.constraintType,compound:i,params:n,composingConstraints:q,defaultMessage:d,validator:f,validatorRedefined:c})},Constraint:h.Constraint,Group:q.Group,DateFormat:{DMY:"DMY",MDY:"MDY",YMD:"YMD"},Exception:e.Exception}});
